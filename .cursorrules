Мы создаем расширения для браузера Google Chrome для для собственного варианта закладок
когда пишешь код, будь на 100% уверен, что ты не ломаешь ничего существующего.
Это расширение будет использоваться в браузере Google Chrome, но не будет использоваться в google web store.

расширение будет называться extension_bookmarks_GH 

Логика, внешний вид и структура проекта должны быть максимально понятны и легко расширяемы.

СТРУКТУРА ПРОЕКТА И ЗАВИСИМОСТИ:

1. Основные HTML файлы:
- src/popup.html: Главное окно расширения
  * Зависит от: main.css, dark-theme.css/light-theme.css, settings.css
  * Использует: window.js, popup.js
  * Содержит: структуру интерфейса с кнопками и контейнерами
  * Размер окна: фиксированный 800x600px

- src/settings.html: Окно настроек
  * Зависит от: main.css, dark-theme.css/light-theme.css, settings.css
  * Использует: window.js, settings.js
  * Содержит: интерфейс настроек с кнопками импорта/экспорта
  * Размер окна: фиксированный 800x600px

2. Компоненты (src/components/):
- MainInterface.js: Основной интерфейс с закладками
  * Используется в: popup.js
  * Отвечает за: отображение списка корневых закладок и папок
  * Отображает: иконки, заголовки, пустые состояния
  * Поддерживает: клики по папкам и закладкам

- NestedMenu.js: Интерфейс вложенных папок
  * Используется в: popup.js
  * Отвечает за: отображение содержимого папок
  * Отображает: иконки, заголовки, пустые состояния
  * Поддерживает: навигацию по вложенным папкам

3. Утилиты (src/utils/):
- bookmarks.js: Работа с закладками
  * Используется в: popup.js, settings.js
  * Предоставляет: функции для работы с закладками (получение, создание, импорт, экспорт)
  * Использует: storage.js для хранения данных
  * Поддерживает: импорт из браузера с сохранением favicon

- storage.js: Управление хранилищем закладок
  * Используется в: bookmarks.js
  * Отвечает за: CRUD операции с закладками в chrome.storage.local
  * Хранит: структуру папок и закладок с favicon
  * Формат данных: {id, title, url, favicon, type, children}

- theme.js: Управление темой
  * Используется в: popup.html, settings.html
  * Отвечает за: переключение и сохранение темы
  * Зависит от: chrome.storage.sync

- window.js: Управление размером окна
  * Используется в: popup.html, settings.html
  * Отвечает за: установку фиксированных размеров окна (800x600px)

4. Стили (src/styles/):
- main.css: Основные стили
  * Содержит: переменные, общие стили, стили компонентов
  * Используется во всех HTML файлах

- dark-theme.css/light-theme.css: Темы
  * Содержат: цветовые схемы для тем
  * Переключаются через: theme.js

- settings.css: Стили настроек
  * Содержит: специфичные стили для окна настроек

5. Ресурсы (assets/):
- icons/: Иконки интерфейса
  * Используются в: popup.html, settings.html
  * Включают: иконки для кнопок, папок, действий
  * Поддерживают: темную и светлую темы

- logo/: Иконки расширения
  * Используются в: manifest.json
  * Размеры: 16x16, 48x48, 128x128

ТЕКУЩАЯ ЛОГИКА РАБОТЫ:
1. Закладки хранятся в chrome.storage.local через storage.js:
   - Используется ключ "gh_bookmarks" для хранения
   - Каждая закладка имеет: id, title, url, favicon, type
   - Каждая папка имеет: id, title, type: "folder", children
   - При первом запуске создаются базовые папки: "Избранное", "Работа", "Личное"
   - Импорт из браузера доступен через настройки (единоразово)
   - После импорта работа только с локальным хранилищем

2. Навигация:
   - Используется navigationStack для хранения истории
   - Поддерживается неограниченная вложенность папок
   - Кнопка "Назад" для возврата на уровень выше
   - Отображение текущего пути в заголовке

3. Интерфейс:
   - Фиксированный размер окна 800x600px
   - Поддержка светлой и темной темы
   - Автоматическое получение favicon для закладок
   - Отображение состояния пустых папок
   - Кнопки управления в шапке (назад, добавить, настройки)

4. Безопасность:
   - Content Security Policy для скриптов и ресурсов
   - Изоляция от закладок браузера после импорта
   - Безопасное хранение данных в chrome.storage

ПРАВИЛА РАЗРАБОТКИ:
1. Все изменения делать в ветке dev
2. Проверять работу темы в обоих режимах
3. Тестировать навигацию по всем уровням вложенности
4. Сохранять существующую структуру классов и ID
5. Поддерживать единый стиль именования:
   - ID: camelCase
   - Классы: kebab-case
   - Файлы: kebab-case
6. Все новые функции документировать комментариями

ВАЖНО ПРИ ИЗМЕНЕНИИ ЛОГИКИ (КОГДА Я БУДУ ПРОСИТЬ ЭТО ДЕЛАТЬ) НЕ ПОЛОМАТЬ ТЕКУЩИЕ СВЯЗИ, ФУНКЦИОНАЛ ДИЗАЙН И ПРОЧЕЕ. ЕСЛИ ТЫ ЗАМЕТИШЬ ЧТО МОЙ ЗАПРОС БУДЕТ ЧТО_ТО ЛОМАТЬ ПРЕДУПРЕДИ МЕНЯ ОБ ЭТОМ ПЕРЕД ИСПРАВЛЕНИЯ КОДА 